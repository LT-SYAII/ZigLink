<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZigLink - High Performance Shortener</title>
    <meta name="description" content="ZigLink helps you create simple, memorable, and powerful short links for your brand or personal use. Share your content with confidence using our easy-to-use link management tool.">
    <meta name="keywords" content="short link, custom alias, link management, easy sharing, social media tools, custom url">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Bang Syaii">
    <link rel="canonical" href="https://ziglink.top">
    <meta property="og:type" content="website">
    <meta property="og:title" content="ZigLink - Simple & Powerful URL Shortener">
    <meta property="og:description" content="Simplify your links and amplify your reach. Create custom short links in seconds with ZigLink.">
    <meta property="og:image" content="https://ziglink.top/og-image.png">
    <meta property="og:url" content="https://ziglink.top">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@500;800&family=Space+Grotesk:wght@700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "ZigLink",
      "url": "https://ziglink.top",
      "description": "Ultra-fast URL shortener powered by Zig. Create custom, reliable, and lightning-fast short links.",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "author": {
        "@type": "Person",
        "name": "Bang Syaii",
        "url": "https://bang.syaii.sbs"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    <style>
        :root {
            --bg: #09090b;
            --card: #121214;
            --input: #1c1c1f;
            --border: #27272a;
            --text: #f4f4f5;
            --text-muted: #71717a;
            --primary: #f97316;
            --primary-glow: rgba(249, 115, 22, 0.15);
            --success: #10b981;
            --spring: cubic-bezier(0.68, -0.6, 0.32, 1.6);
        }
        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        html, body { min-height: 100vh; margin: 0; }
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg); color: var(--text);
            display: flex; flex-direction: column;
            font-size: clamp(14px, 1vw, 16px); /* Responsive base font size */
        }
        .container { 
            width: 100%; max-width: 1200px; margin: 0 auto; 
            padding: clamp(1rem, 2.5vw, 2rem); flex: 1; display: flex; flex-direction: column;
        }
        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            70% { transform: scale(1.08); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes bounceIn {
            0% { transform: translateY(30px) scale(0.9); opacity: 0; }
            60% { transform: translateY(-10px) scale(1.05); opacity: 1; }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }
        .anim-1 { animation: popIn 0.6s var(--spring) forwards; }
        .anim-2 { animation: bounceIn 0.6s var(--spring) 0.1s forwards; }
        .anim-3 { animation: bounceIn 0.6s var(--spring) 0.2s forwards; }
        .anim-4 { animation: bounceIn 0.6s var(--spring) 0.3s forwards; }
        .anim-5 { animation: bounceIn 0.6s var(--spring) 0.4s forwards; }
        
        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: clamp(10px, 2vh, 15px) clamp(20px, 5vw, 40px); border-bottom: 1px solid var(--border);
            background: rgba(9,9,11,0.8); backdrop-filter: blur(12px);
            position: sticky; top: 0; z-index: 100; gap: 20px;
            animation: bounceIn 0.6s var(--spring) forwards;
        }
        ...
        .stats-bar {
            text-align: center; padding: clamp(15px, 2vh, 20px); margin-top: 30px;
            border: 1px dashed var(--border); border-radius: 16px;
            color: var(--text-muted); font-family: 'JetBrains Mono', monospace;
            display: flex; justify-content: center; gap: 10px; align-items: center;
            opacity: 0; animation: bounceIn 0.6s var(--spring) 0.3s forwards;
            font-size: clamp(12px, 1vw, 14px);
            position: relative; z-index: 10;
        }
        .stats-count { color: var(--primary); font-weight: 800; font-size: clamp(16px, 1.5vw, 18px); }
        
        .section-title { text-align: center; font-size: clamp(20px, 2vw, 24px); font-weight: 800; margin: clamp(40px, 5vh, 60px) 0 clamp(20px, 3vh, 30px) 0; letter-spacing: -0.5px; opacity: 0; animation: popIn 0.8s var(--spring) 0.4s forwards; }
        .steps-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); 
            gap: clamp(15px, 2vw, 20px); width: 100%;
            opacity: 0; animation: popIn 0.8s var(--spring) 0.5s forwards;
        }
        .step-card {
            background: var(--card); border: 1px solid var(--border); padding: clamp(20px, 3vw, 30px); border-radius: 20px;
            text-align: center; transition: 0.3s var(--spring); position: relative; overflow: hidden;
        }
        .step-card:hover { border-color: var(--primary); transform: translateY(-10px) rotate(2deg); }
        .step-card i { font-size: clamp(32px, 4vw, 40px); color: var(--primary); margin-bottom: 15px; display: block; transition: 0.3s var(--spring); }
        .step-card:hover i { transform: scale(1.5) rotate(-10deg); }
        .step-card h4 { margin: 0 0 10px 0; font-size: clamp(16px, 1.5vw, 18px); color: white; }
        .step-card p { margin: 0; font-size: clamp(13px, 1vw, 14px); color: var(--text-muted); line-height: 1.6; }
        
        .cta-section {
            background: transparent;
            border: 1px dashed var(--border); padding: clamp(30px, 4vh, 60px) 20px; border-radius: 30px;
            text-align: center; margin: clamp(40px, 5vh, 60px) 0; width: 100%;
            opacity: 0; animation: popIn 0.8s var(--spring) 0.6s forwards;
            transition: 0.3s var(--spring);
        }
        .cta-section:hover { transform: scale(1.02); border-color: var(--primary); }
        .cta-section h2 { font-size: clamp(24px, 3vw, 32px); margin-top: 0; margin-bottom: 15px; }
        .btn-cta {
            background: white; color: black; border: none; padding: clamp(12px, 1.5vh, 15px) clamp(30px, 4vw, 40px);
            border-radius: 12px; font-weight: 800; font-size: clamp(14px, 1.2vw, 16px); cursor: pointer; margin-top: 20px;
            transition: 0.3s var(--spring); box-shadow: 0 5px 0 #ccc;
        }
        .btn-cta:hover { transform: translateY(-5px) scale(1.05) rotate(-2deg); box-shadow: 0 10px 0 var(--primary); }
        .btn-cta:active { transform: translateY(0); box-shadow: 0 0 0; }
        
        .site-footer {
            width: 100%; border-top: 1px solid var(--border);
            padding: clamp(20px, 4vh, 40px) 0; margin-top: auto;
            background: linear-gradient(to top, #050505, transparent);
            animation: popIn 0.8s var(--spring) 0.7s forwards; opacity: 0;
        }
        .footer-content {
            max-width: 1200px; margin: 0 auto; padding: 0 clamp(20px, 2vw, 40px);
            display: flex; justify-content: space-between; align-items: center;
            flex-wrap: wrap; gap: 20px;
        }
        .footer-left { display: flex; flex-direction: column; gap: 5px; font-size: clamp(12px, 1vw, 13px); color: var(--text-muted); }
        .footer-brand { font-weight: 800; color: white; letter-spacing: -0.5px; font-size: clamp(14px, 1.2vw, 16px); }
        .footer-right { display: flex; gap: clamp(15px, 2vw, 20px); align-items: center; }
        .footer-right a { color: var(--text-muted); text-decoration: none; font-size: clamp(12px, 1vw, 13px); font-weight: 600; transition: 0.2s; display: flex; align-items: center; gap: 6px; }
        .footer-right a:hover { color: var(--primary); }
        .footer-donate-link { 
            color: var(--primary) !important; background: rgba(249, 115, 22, 0.1); 
            padding: 8px 16px; border-radius: 20px; border: 1px solid rgba(249, 115, 22, 0.2);
        }
        .footer-donate-link:hover { background: rgba(249, 115, 22, 0.2); transform: translateY(-2px); }

        @media (max-width: 768px) {
            .nav-links { display: none; }
            .bottom-row { flex-direction: column; align-items: stretch; gap: 10px; }
            .btn-submit { 
                width: 100%; 
                height: 48px; 
                font-size: 15px; 
                padding: 0 20px;
                border-radius: 10px;
            }
            .creation-card { padding: 18px; gap: 12px; }
            .field-group { gap: 2px; }
            .field-group label { font-size: 11px; margin-bottom: 0; }
            input { padding: 12px 14px; font-size: 15px; border-radius: 10px; }
            .hero-top, .hero-bottom { font-size: clamp(30px, 10vw, 40px); }
        }

        #qrModal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); backdrop-filter: blur(8px); display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: 0.3s; z-index: 999; }
        #qrModal.show { opacity: 1; pointer-events: all; }
        .modal-content { background: var(--card); padding: 32px; border-radius: 24px; border: 1px solid var(--border); text-align: center; max-width: 90%; transform: scale(0.5); transition: 0.4s var(--spring); }
        #qrModal.show .modal-content { transform: scale(1); }
        #toast { position: fixed; bottom: 30px; left: 50%; transform: translate(-50%, 100px); background: white; color: black; padding: 12px 28px; border-radius: 12px; font-weight: 700; opacity: 0; transition: 0.4s var(--spring); z-index: 1000; box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 2px solid black; }
        #toast.show { transform: translate(-50%, 0) rotate(-2deg); opacity: 1; }
        #toast.error { background: #ef4444; color: white; border-color: #ef4444; transform: translate(-50%, 0) rotate(2deg); }
    </style>
</head>
<body>
<header>
    <div class="brand"><i class="ph-fill ph-lightning"></i> ZigLink</div>
    <nav class="nav-links">
        <a href="https://bang.syaii.sbs">Author</a>
        <a href="https://github.com/LT-SYAII" target="_blank">GitHub</a>
    </nav>
    <div class="header-actions">
        <a href="https://saweria.co/bgsyaii" target="_blank" class="btn-donate">
            <i class="ph-fill ph-coffee"></i> Donate
        </a>
    </div>
</header>
<div class="container">
    <div class="hero-section anim-1">
        <div class="hero-top">READY FOR</div>
        <div class="hero-bottom">SHORTEN??</div>
    </div>
    <div class="creation-card anim-2">
        <div class="field-group">
            <label>Destination URL</label>
            <input type="url" id="urlInput" placeholder="https://example.com/long-link..." required>
        </div>
        <div class="bottom-row">
            <div class="field-group">
                <label>Custom Alias (Opt)</label>
                <input type="text" id="aliasInput" placeholder="e.g. my-link">
            </div>
            <button class="btn-submit" onclick="createLink()" id="btnCreate">
                <i class="ph-bold ph-magic-wand"></i> Shorten
            </button>
        </div>
    </div>
    <div id="resultContainer">
        <div class="result-content">
            <a href="#" id="resultLink" target="_blank" class="result-link">/link</a>
            <div style="display:flex; gap:10px">
                <button class="btn-icon" id="btnResQr" style="width:48px;height:48px;"><i class="ph-bold ph-qr-code" style="font-size:20px;"></i></button>
                <button class="btn-icon" id="btnResCopy" style="width:48px;height:48px;"><i class="ph-bold ph-copy" style="font-size:20px;"></i></button>
            </div>
        </div>
    </div>
    <div class="stats-bar anim-3">
        <i class="ph-fill ph-rocket-launch"></i>
        <div>Total Links Created: <span id="totalLinks" class="stats-count">0</span></div>
    </div>
    <h3 class="section-title anim-4">How It Works</h3>
    <div class="steps-grid anim-5">
        <div class="step-card">
            <i class="ph-fill ph-link"></i>
            <h4>Paste Link</h4>
            <p>Enter the long URL you want to shorten in the box above.</p>
        </div>
        <div class="step-card">
            <i class="ph-fill ph-pencil-simple"></i>
            <h4>Customize</h4>
            <p>Add a custom alias to make your link memorable and unique.</p>
        </div>
        <div class="step-card">
            <i class="ph-fill ph-share-network"></i>
            <h4>Share It</h4>
            <p>Copy your new short link or generate a QR code instantly.</p>
        </div>
    </div>
    <div class="cta-section anim-5">
        <h2>Start Shortening Now</h2>
        <p>Join thousands of users creating optimized links with ZigLink.</p>
        <button onclick="document.getElementById('urlInput').focus()" class="btn-cta">Get Started Free</button>
    </div>
</div>
<footer class="site-footer">
    <div class="footer-content">
        <div class="footer-left">
            <span class="footer-brand">ZigLink</span>
            <span class="footer-copy">&copy; <span id="currentYear"></span>. All rights reserved.</span>
        </div>
        <div class="footer-right">
            <a href="https://bang.syaii.sbs" target="_blank">Author</a>
            <a href="https://github.com/LT-SYAII" target="_blank">GitHub</a>
            <a href="https://saweria.co/bgsyaii" target="_blank" class="footer-donate-link">
                <i class="ph-fill ph-heart"></i> Donate
            </a>
        </div>
    </div>
</footer>
<div id="qrModal" onclick="closeQr()">
    <div class="modal-content" onclick="event.stopPropagation()">
        <div id="qrcode" style="padding:15px; background:white; border-radius:12px; display:inline-block;"></div>
        <button onclick="closeQr()" style="margin-top:20px; width:100%; padding:10px; border-radius:8px; border:none; background:#333; color:white; cursor:pointer; font-weight:700;">CLOSE</button>
    </div>
</div>
<div id="toast">Success</div>
<script>
    const API_URL = window.location.origin;
    fetch('/auth/verify', { method: 'POST' }).then(() => {
        refreshData();
    }).catch(e => console.log("Auth failed", e));
    function showToast(msg, type = "success") {
        const t = document.getElementById('toast');
        t.innerText = msg;
        t.className = type === "error" ? "show error" : "show";
        setTimeout(() => t.className = '', 2000);
    }
    function showQr(url) {
        const modal = document.getElementById('qrModal');
        const container = document.getElementById('qrcode');
        container.innerHTML = ''; 
        new QRCode(container, { text: url, width: 200, height: 200 });
        modal.classList.add('show');
    }
    function closeQr() { document.getElementById('qrModal').classList.remove('show'); }
    async function refreshData() {
        try {
            const res = await fetch(API_URL + '/info');
            const json = await res.json();
            const el = document.getElementById('totalLinks');
            if(el) el.innerText = json.total_links || 0;
        } catch (e) { console.log(e); }
    }
    async function createLink() {
        const urlInput = document.getElementById('urlInput');
        const aliasInput = document.getElementById('aliasInput');
        let url = urlInput.value.trim();
        const alias = aliasInput.value.trim();
        if(!url) return showToast("URL is required!", "error");
        if (!url.startsWith('http://') && !url.startsWith('https://')) url = 'https://' + url;
        try {
            const check = new URL(url);
            if(check.hostname === window.location.hostname) return showToast("Cannot shorten internal links!", "error");
        } catch(e) { return showToast("Invalid URL format!", "error"); }
        const btn = document.getElementById('btnCreate');
        btn.disabled = true; btn.innerHTML = '<i class="ph ph-spinner-gap" style="animation:spin 1s linear infinite"></i>';
        try {
            const res = await fetch(API_URL + '/api/shorten', {
                method: 'POST',
                body: JSON.stringify({ url, alias })
            });
            const d = await res.json();
            if(res.ok) {
                const fullUrl = `${API_URL}/${d.short_code}`;
                document.getElementById('resultLink').href = fullUrl;
                document.getElementById('resultLink').innerText = window.location.host + "/" + d.short_code;
                document.getElementById('btnResCopy').onclick = () => copyText(fullUrl, document.getElementById('btnResCopy'));
                document.getElementById('btnResQr').onclick = () => showQr(fullUrl);
                document.getElementById('resultContainer').style.display = 'block';
                urlInput.value = ''; aliasInput.value = '';
                showToast("Shortlink created!");
                refreshData();
            } else showToast(d.error || "Failed", "error");
        } catch (e) { showToast("Connection error", "error"); }
        btn.disabled = false; btn.innerHTML = '<i class="ph-bold ph-magic-wand"></i> Shorten';
    }
    function copyText(text, btn) {
        const icon = btn.querySelector('i');
        const doCopy = () => {
            showToast("Copied!");
            icon.className = 'ph-bold ph-check';
            setTimeout(() => icon.className = 'ph-bold ph-copy', 1500);
        };
        if (navigator.clipboard && window.isSecureContext) {
            navigator.clipboard.writeText(text).then(doCopy).catch(() => fallbackCopy(text, doCopy));
        } else fallbackCopy(text, doCopy);
    }
    function fallbackCopy(text, cb) {
        const t = document.createElement("textarea"); t.value = text;
        t.style.position="fixed"; t.style.left="-9999px"; document.body.appendChild(t);
        t.focus(); t.select();
        try { document.execCommand('copy'); cb(); } catch(e) {}
        document.body.removeChild(t);
    }
    document.getElementById('currentYear').innerText = new Date().getFullYear();
    setInterval(refreshData, 10000);
</script>
</body>
</html>